<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Reportes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>

    <!-- MENÚ INTEGRADO -->
    <nav class="menu">
        <a href="dashboard.html">Inicio</a>
        <a href="movimientos.html">Registrar movimiento</a>
        <a href="reportes.html" class="activo">Reportes</a>
        <a href="index.html">Cerrar sesión</a>
    </nav>

    <div class="contenedor">
        <h2>Reportes financieros</h2>

        <!-- Saldo dinámico -->
        <p>Saldo actual: <strong id="saldo"></strong></p>

        <hr style="margin: 20px 0; border: 1px solid #ddd;">

        <h3>Histórico de movimientos</h3>
        <div id="listaMovimientos" class="panel"></div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>

    <script>
        // Mostrar saldo actual
        document.getElementById("saldo").textContent = "$" + calcularSaldo();

        // Cargar movimientos guardados
        const movs = JSON.parse(localStorage.getItem("movimientos")) || [];
        const contenedor = document.getElementById("listaMovimientos");

        if (movs.length === 0) {
            contenedor.innerHTML = "<p>No hay movimientos registrados.</p>";
        } else {
            let html = "<ul style='list-style:none; padding:0;'>";

            movs.forEach(m => {
                html += `
                    <li style="
                        background:#ffffff;
                        padding:12px;
                        margin:10px 0;
                        border-left:6px solid ${m.tipo === 'ingreso' ? '#2ecc71' : '#e74c3c'};
                        box-shadow: 0px 4px 10px rgba(0,0,0,0.08);
                        border-radius:10px;
                    ">
                        <strong>${m.tipo.toUpperCase()}</strong> – 
                        ${m.descripcion} – 
                        <strong>$${m.valor}</strong>
                        <br>
                        <span style="font-size:13px; color:#777;">${m.fecha}</span>
                    </li>
                `;
            });

            html += "</ul>";
            contenedor.innerHTML = html;
        }
    </script>

</body>
</html>

