<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/estilos.css">
    <title>Registro de Usuario</title>
</head>
<body>

    <!-- MENÚ PRINCIPAL -->
    <nav class="menu">
        <a href="dashboard.html">Inicio</a>
        <a href="movimientos.html">Registrar movimiento</a>
        <a href="reportes.html">Reportes</a>
        <a href="index.html">Cerrar sesión</a>
    </nav>

    <div class="registro-container">
        <h2>Crear cuenta</h2>

        <form id="registerForm">
            <label for="nombre">Nombre completo</label>
            <input type="text" id="nombre" placeholder="Ingrese su nombre completo" required>

            <label for="correo">Correo electrónico</label>
            <input type="email" id="correo" placeholder="Ingrese su correo" required>

            <label for="password">Contraseña</label>
            <input type="password" id="password" placeholder="Cree una contraseña" required>

            <label for="confirmar">Confirmar contraseña</label>
            <input type="password" id="confirmar" placeholder="Repita su contraseña" required>

            <button type="submit" class="boton">Registrarse</button>

            <p>¿Ya tienes cuenta? <a href="index.html">Inicia sesión</a></p>
        </form>
    </div>

    <script src="js/app.js"></script>

    <script>
        // Registro real de usuarios
        document.getElementById("registerForm").addEventListener("submit", e => {
            e.preventDefault();

            const nombre = document.getElementById("nombre").value.trim();
            const correo = document.getElementById("correo").value.trim();
            const password = document.getElementById("password").value;
            const confirmar = document.getElementById("confirmar").value;

            if (password !== confirmar) {
                alert("Las contraseñas no coinciden.");
                return;
            }

            // Obtener lista de usuarios guardados
            let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

            // Validar si el correo ya existe
            const existe = usuarios.some(u => u.correo === correo);
            if (existe) {
                alert("Este correo ya está registrado.");
                return;
            }

            // Crear usuario nuevo
            const nuevoUsuario = {
                nombre,
                correo,
                password
            };

            usuarios.push(nuevoUsuario);

            // Guardar en localStorage
            localStorage.setItem("usuarios", JSON.stringify(usuarios));

            alert("Registro exitoso. Ahora puede iniciar sesión.");
            window.location.href = "index.html";
        });
    </script>

</body>
</html>


